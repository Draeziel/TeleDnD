{
  "schemaVersion": "1.0.0",
  "contentSource": {
    "name": "SRD Demo",
    "rulesVersion": "v1"
  },
  "classes": [
    { "externalId": "class.barbarian", "name": "Barbarian", "rulesVersion": "v1" },
    { "externalId": "class.bard", "name": "Bard", "rulesVersion": "v1" }
  ],
  "races": [
    { "externalId": "race.human", "name": "Human", "rulesVersion": "v1" }
  ],
  "backgrounds": [
    { "externalId": "background.soldier", "name": "Soldier", "rulesVersion": "v1" }
  ],
  "features": [
    {
      "externalId": "feature.rage",
      "name": "Rage",
      "description": "You can enter a furious rage as an action on your turn.",
      "rulesVersion": "v1"
    },
    {
      "externalId": "feature.unarmored-defense",
      "name": "Unarmored Defense",
      "description": "While not wearing armor, AC equals 10 + Dexterity modifier.",
      "rulesVersion": "v1"
    },
    {
      "externalId": "feature.bardic-inspiration",
      "name": "Bardic Inspiration",
      "description": "You can inspire others through music or oration.",
      "rulesVersion": "v1"
    },
    {
      "externalId": "feature.reckless-attack",
      "name": "Reckless Attack",
      "description": "You can throw aside all concern for defense to attack with fierce desperation.",
      "rulesVersion": "v1"
    },
    {
      "externalId": "feature.jack-of-all-trades",
      "name": "Jack of All Trades",
      "description": "You can add half your proficiency bonus to any ability check you make that doesnâ€™t already include your proficiency bonus.",
      "rulesVersion": "v1"
    }
  ],
  "choices": [
    {
      "externalId": "choice.class.barbarian.skill",
      "sourceType": "class",
      "sourceExternalId": "class.barbarian",
      "chooseCount": 1,
      "options": [
        { "id": "acrobatics", "name": "Acrobatics" },
        { "id": "animal_handling", "name": "Animal Handling" },
        { "id": "athletics", "name": "Athletics" },
        { "id": "survival", "name": "Survival" }
      ],
      "rulesVersion": "v1"
    },
    {
      "externalId": "choice.background.soldier.weapon",
      "sourceType": "background",
      "sourceExternalId": "background.soldier",
      "chooseCount": 1,
      "options": [
        { "id": "longsword", "name": "Longsword" },
        { "id": "battleaxe", "name": "Battleaxe" },
        { "id": "crossbow", "name": "Crossbow" }
      ],
      "rulesVersion": "v1"
    }
  ],
  "items": [
    {
      "externalId": "item.longsword",
      "name": "Longsword",
      "description": "Martial melee weapon",
      "slot": "weapon",
      "weaponCategory": "martial_melee",
      "attackAbility": "str",
      "damageFormula": "1d8+str",
      "proficiencyRequirements": { "weapon": ["martial"] },
      "rulesVersion": "v1"
    }
  ],
  "classLevelProgressions": [
    { "classExternalId": "class.barbarian", "level": 1, "featureExternalId": "feature.rage" },
    { "classExternalId": "class.barbarian", "level": 1, "featureExternalId": "feature.unarmored-defense" },
    { "classExternalId": "class.barbarian", "level": 2, "featureExternalId": "feature.reckless-attack" },
    { "classExternalId": "class.bard", "level": 1, "featureExternalId": "feature.bardic-inspiration" },
    { "classExternalId": "class.bard", "level": 2, "featureExternalId": "feature.jack-of-all-trades" }
  ],
  "actions": [
    {
      "externalId": "action.rage.activate",
      "name": "Activate Rage",
      "featureExternalId": "feature.rage",
      "payloadType": "RUNTIME_EFFECT",
      "payload": {
        "effectType": "rage",
        "duration": "1 minute"
      },
      "trigger": {
        "phase": "manual",
        "targeting": "self",
        "stackPolicy": "refresh"
      },
      "rulesVersion": "v1"
    },
    {
      "externalId": "action.reckless-attack.use",
      "name": "Use Reckless Attack",
      "featureExternalId": "feature.reckless-attack",
      "payloadType": "ACTION_ATTACK",
      "payload": {
        "attackMode": "melee",
        "grantsAdvantage": true,
        "grantsIncomingAdvantage": true
      },
      "trigger": {
        "phase": "manual",
        "targeting": "self",
        "stackPolicy": "refresh"
      },
      "rulesVersion": "v1"
    },
    {
      "externalId": "action.bardic-inspiration.grant",
      "name": "Grant Bardic Inspiration",
      "featureExternalId": "feature.bardic-inspiration",
      "payloadType": "RUNTIME_EFFECT",
      "payload": {
        "effectType": "bardic_inspiration",
        "die": "1d6",
        "duration": "10 minutes"
      },
      "trigger": {
        "phase": "manual",
        "targeting": "ally",
        "stackPolicy": "refresh"
      },
      "rulesVersion": "v1"
    }
  ],
  "spells": [
    {
      "externalId": "spell.vicious-mockery",
      "name": "Vicious Mockery",
      "level": 0,
      "school": "Enchantment",
      "payloadType": "CUSTOM",
      "payload": {
        "dice": "1d4",
        "save": "wis"
      },
      "rulesVersion": "v1"
    }
  ],
  "dependencies": [
    {
      "sourceRef": "action.rage.activate",
      "sourceType": "action",
      "targetRef": "feature.rage",
      "targetType": "feature",
      "relationType": "requires",
      "rulesVersion": "v1"
    },
    {
      "sourceRef": "feature.unarmored-defense",
      "sourceType": "feature",
      "targetRef": "item.longsword",
      "targetType": "item",
      "relationType": "depends_on",
      "rulesVersion": "v1"
    },
    {
      "sourceRef": "action.reckless-attack.use",
      "sourceType": "action",
      "targetRef": "feature.reckless-attack",
      "targetType": "feature",
      "relationType": "requires",
      "rulesVersion": "v1"
    },
    {
      "sourceRef": "action.bardic-inspiration.grant",
      "sourceType": "action",
      "targetRef": "feature.bardic-inspiration",
      "targetType": "feature",
      "relationType": "requires",
      "rulesVersion": "v1"
    }
  ]
}
