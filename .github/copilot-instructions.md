# Copilot Instructions

## Workflow agreements

- После каждого успешно выполненного изменения кода и успешной локальной проверки (`build`/`test`) выполняй `git add`, `git commit` и `git push` в этом же ответе, если пользователь явно не попросил иное.
- Не откладывай коммит/пуш «на потом» и не спрашивай повторное подтверждение, если ранее в текущем диалоге пользователь уже подтвердил такой стиль работы.
- Перед коммитом используй краткий, содержательный commit message на английском.
- Если пуш невозможен (конфликт, нет прав, сеть), сразу сообщай причину и предлагай следующий рабочий шаг.
- Если доработки небольшие и уже согласованы с пользователем, выполняй их сразу несколькими пунктами в одном заходе без дополнительных подтверждений.
- Если изменение явно необходимо для стабильности/качества и это подтверждается контекстом (ошибки, падения smoke/build, миграционный drift), не запрашивай отдельное разрешение на такую доработку: выполняй её сразу, объясняй почему она обязательна и возвращай пользователя к ней в следующих шагах, если он пытается её пропустить.

## Communication

- В конце ответа всегда указывай: `commit hash` и был ли `push` успешен.
- Если изменены файлы в нескольких пакетах (backend + miniapp), коммить их вместе только если они относятся к одной задаче.
